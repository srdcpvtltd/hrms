
/*-----------------------------------
   Nicescroll
-----------------------------------*/ 
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(b){"use strict";var l=!1,m=!1,n=0,o=2e3,p=0,c=b,e=document,a=window,q=c(a),r=[],f=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,g=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(f)a.cancelAnimationFrame||(g=function(a){});else{var s=0;f=function(e,f){var b=(new Date).getTime(),c=Math.max(0,16-(b-s)),d=a.setTimeout(function(){e(b+c)},c);return s=b+c,d},g=function(b){a.clearTimeout(b)}}var d,h,i,t=a.MutationObserver||a.WebKitMutationObserver||!1,u=Date.now||function(){return(new Date).getTime()},k={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#F3794D",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(i=(h=e.currentScript|| !!(d=e.getElementsByTagName("script")).length&&d[d.length-1])?h.src.split("?")[0]:"").split("/").length>0?i.split("/").slice(0,-1).join("/")+"/":"",preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var d=e.createElement("DIV"),c=d.style,g=navigator.userAgent,f=navigator.platform,b={};return b.haspointerlock="pointerLockElement"in e||"webkitPointerLockElement"in e||"mozPointerLockElement"in e,b.isopera="opera"in a,b.isopera12=b.isopera&&"getUserMedia"in navigator,b.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),b.isie="all"in e&&"attachEvent"in d&&!b.isopera,b.isieold=b.isie&&!("msInterpolationMode"in c),b.isie7=b.isie&&!b.isieold&&(!("documentMode"in e)||7===e.documentMode),b.isie8=b.isie&&"documentMode"in e&&8===e.documentMode,b.isie9=b.isie&&"performance"in a&&9===e.documentMode,b.isie10=b.isie&&"performance"in a&&10===e.documentMode,b.isie11="msRequestFullscreen"in d&&e.documentMode>=11,b.ismsedge="msCredentials"in a,b.ismozilla="MozAppearance"in c,b.iswebkit=!b.ismsedge&&"WebkitAppearance"in c,b.ischrome=b.iswebkit&&"chrome"in a,b.ischrome38=b.ischrome&&"touchAction"in c,b.ischrome22=!b.ischrome38&&b.ischrome&&b.haspointerlock,b.ischrome26=!b.ischrome38&&b.ischrome&&"transition"in c,b.cantouch="ontouchstart"in e.documentElement||"ontouchstart"in a,b.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),b.hasmstouch=!b.hasw3ctouch&&!!a.MSPointerEvent,b.ismac=/^mac$/i.test(f),b.isios=b.cantouch&&/iphone|ipad|ipod/i.test(f),b.isios4=b.isios&&!("seal"in Object),b.isios7=b.isios&&"webkitHidden"in e,b.isios8=b.isios&&"hidden"in e,b.isios10=b.isios&&a.Proxy,b.isandroid=/android/i.test(g),b.haseventlistener="addEventListener"in d,b.trstyle=!1,b.hastransform=!1,b.hastranslate3d=!1,b.transitionstyle=!1,b.hastransition=!1,b.transitionend=!1,b.trstyle="transform",b.hastransform="transform"in c||function(){for(var d=["msTransform","webkitTransform","MozTransform","OTransform"],a=0,e=d.length;a<e;a++)if(void 0!==c[d[a]]){b.trstyle=d[a];break}b.hastransform=!!b.trstyle}(),b.hastransform&&(c[b.trstyle]="translate3d(1px,2px,3px)",b.hastranslate3d=/translate3d/.test(c[b.trstyle])),b.transitionstyle="transition",b.prefixstyle="",b.transitionend="transitionend",b.hastransition="transition"in c||function(){b.transitionend=!1;for(var d=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],e=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],f=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],a=0,g=d.length;a<g;a++)if(d[a]in c){b.transitionstyle=d[a],b.prefixstyle=e[a],b.transitionend=f[a];break}b.ischrome26&&(b.prefixstyle=e[1]),b.hastransition=b.transitionstyle}(),b.cursorgrabvalue=function(){var a=["grab","-webkit-grab","-moz-grab"];(b.ischrome&&!b.ischrome38||b.isie)&&(a=[]);for(var d=0,f=a.length;d<f;d++){var e=a[d];if(c.cursor=e,c.cursor==e)return e}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),b.hasmousecapture="setCapture"in d,b.hasMutationObserver=!1!==t,d=null,v=b,b},x=function(s,z){function C(){var a=h.doc.css(d.trstyle);return!(!a||"matrix"!=a.substr(0,6))&&a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function D(c,d,e){var b=c.css(d),a=parseFloat(b);if(isNaN(a)){var f=3==(a=H[b]||0)?e?h.win.outerHeight()-h.win.innerHeight():h.win.outerWidth()-h.win.innerWidth():1;return h.isie8&&a&&(a+=1),f?a:0}return a}function E(b,c,e,d){h._bind(b,c,function(d){var f={original:d=d||a.event,target:d.target||d.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==d.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return d.preventDefault?d.preventDefault():d.returnValue=!1,!1},stopImmediatePropagation:function(){d.stopImmediatePropagation?d.stopImmediatePropagation():d.cancelBubble=!0}};return"mousewheel"==c?(d.wheelDeltaX&&(f.deltaX=-0.025*d.wheelDeltaX),d.wheelDeltaY&&(f.deltaY=-0.025*d.wheelDeltaY),f.deltaY||f.deltaX||(f.deltaY=-0.025*d.wheelDelta)):f.deltaY=d.detail,e.call(b,f)},d)}function F(c,a,g,i){h.scrollrunning||(h.newscrolly=h.getScrollTop(),h.newscrollx=h.getScrollLeft(),N=u());var j=u()-N;if(N=u(),j>350?O=1:O+=(2-O)/10,c=c*O|0,a=a*O|0,c){if(i){if(c<0){if(h.getScrollLeft()>=h.page.maxw)return!0}else if(0>=h.getScrollLeft())return!0}var e=c>0?1:-1;M!==e&&(h.scrollmom&&h.scrollmom.stop(),h.newscrollx=h.getScrollLeft(),M=e),h.lastdeltax-=c}if(a){if(function(){var b=h.getScrollTop();if(a<0){if(b>=h.page.maxh)return!0}else if(b<=0)return!0}()){if(b.nativeparentscrolling&&g&&!h.ispage&&!h.zoomactive)return!0;var d=h.view.h>>1;h.newscrolly< -d?(h.newscrolly=-d,a=-1):h.newscrolly>h.page.maxh+d?(h.newscrolly=h.page.maxh+d,a=1):a=0}var f=a>0?1:-1;L!==f&&(h.scrollmom&&h.scrollmom.stop(),h.newscrolly=h.getScrollTop(),L=f),h.lastdeltay-=a}(a||c)&&h.synched("relativexy",function(){var a=h.lastdeltay+h.newscrolly;h.lastdeltay=0;var b=h.lastdeltax+h.newscrollx;h.lastdeltax=0,h.rail.drag||h.doScrollPos(b,a)})}function G(c,f,e){var a,d;return!(e||!P)||(0===c.deltaMode?(a=-c.deltaX*(b.mousescrollstep/54)|0,d=-c.deltaY*(b.mousescrollstep/54)|0):1===c.deltaMode&&(a=-c.deltaX*b.mousescrollstep*50/80|0,d=-c.deltaY*b.mousescrollstep*50/80|0),f&&b.oneaxismousemode&&0===a&&d&&(a=d,d=0,e&&(a<0?h.getScrollLeft()>=h.page.maxw:0>=h.getScrollLeft())&&(d=a,a=0)),h.isrtlmode&&(a=-a),F(a,d,e,!0)?void(e&&(P=!0)):(P=!1,c.stopImmediatePropagation(),c.preventDefault()))}var h=this;this.version="3.7.6",this.name="nicescroll",this.me=z;var x=c("body"),b=this.opt={doc:x,win:!1};if(c.extend(b,k),b.snapbackspeed=80,s)for(var v in b)void 0!==s[v]&&(b[v]=s[v]);if(b.disablemutationobserver&&(t=!1),this.doc=b.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(b.win?b.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==b.win,this.win=b.win||(this.ispage?q:this.doc),this.docscroll=this.ispage&&!this.haswrapper?q:this.win,this.body=x,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==b.rtlmode){var j=this.win[0]==a?this.body:this.win,i=j.css("writing-mode")||j.css("-webkit-writing-mode")||j.css("-ms-writing-mode")||j.css("-moz-writing-mode");"horizontal-tb"==i||"lr-tb"==i||""===i?(this.isrtlmode="rtl"==j.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==i||"tb"==i||"tb-rl"==i||"rl-tb"==i,this.isvertical="vertical-rl"==i||"tb"==i||"tb-rl"==i)}else this.isrtlmode=!0===b.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==b.scrollbarid)this.id=b.scrollbarid;else do this.id="ascrail"+o++;while(e.getElementById(this.id))this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=b.overflowx,this.overflowy=b.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var d=c.extend({},this.detected);this.canhwscroll=d.hastransform&&b.hwacceleration,this.ishwscroll=this.canhwscroll&&h.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(d.iswebkit||d.isie||d.isie11):this.hasreversehr=!(d.iswebkit||d.isie&&!d.isie10&&!d.isie11):this.hasreversehr=!1,this.istouchcapable=!1,!d.cantouch&&(d.hasw3ctouch||d.hasmstouch)?this.istouchcapable=!0:d.cantouch&&!d.isios&&!d.isandroid&&(d.iswebkit||d.ismozilla)&&(this.istouchcapable=!0),b.enablemouselockapi||(d.hasmousecapture=!1,d.haspointerlock=!1),this.debounced=function(a,b,c){h&&(h.delaylist[a]||(h.delaylist[a]={h:f(function(){h.delaylist[a].fn.call(h),h.delaylist[a]=!1},c)},b.call(h)),h.delaylist[a].fn=b)},this.synched=function(a,b){h.synclist[a]?h.synclist[a]=b:(h.synclist[a]=b,f(function(){h&&(h.synclist[a]&&h.synclist[a].call(h),h.synclist[a]=null)}))},this.unsynched=function(a){h.synclist[a]&&(h.synclist[a]=!1)},this.css=function(b,c){for(var a in c)h.saved.css.push([b,a,b.css(a)]),b.css(a,c[a])},this.scrollTop=function(a){return void 0===a?h.getScrollTop():h.setScrollTop(a)},this.scrollLeft=function(a){return void 0===a?h.getScrollLeft():h.setScrollLeft(a)};var A=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=u(),this.df=b-a};if(A.prototype={B2:function(a){return 3*(1-a)*(1-a)*a},B3:function(a){return 3*(1-a)*a*a},B4:function(a){return a*a*a},getPos:function(){return(u()-this.ts)/this.spd},getNow:function(){var a=(u()-this.ts)/this.spd,b=this.B2(a)+this.B3(a)+this.B4(a);return a>=1?this.ed:this.st+this.df*b|0},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=u(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},d.hastranslate3d&&d.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(b){if(!b){var a=C();if(a)return 16==a.length?-a[13]:-a[5];if(h.timerscroll&&h.timerscroll.bz)return h.timerscroll.bz.getNow()}return h.doc.translate.y},this.getScrollLeft=function(b){if(!b){var a=C();if(a)return 16==a.length?-a[12]:-a[4];if(h.timerscroll&&h.timerscroll.bh)return h.timerscroll.bh.getNow()}return h.doc.translate.x},this.notifyScrollEvent=function(c){var b=e.createEvent("UIEvents");b.initUIEvent("scroll",!1,!1,a,1),b.niceevent=!0,c.dispatchEvent(b)};var _=this.isrtlmode?1:-1;d.hastranslate3d&&b.enabletranslate3d?(this.setScrollTop=function(a,b){h.doc.translate.y=a,h.doc.translate.ty=-1*a+"px",h.doc.css(d.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0)"),b||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(a,b){h.doc.translate.x=a,h.doc.translate.tx=a*_+"px",h.doc.css(d.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0)"),b||h.notifyScrollEvent(h.win[0])}):(this.setScrollTop=function(a,b){h.doc.translate.y=a,h.doc.translate.ty=-1*a+"px",h.doc.css(d.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),b||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(a,b){h.doc.translate.x=a,h.doc.translate.tx=a*_+"px",h.doc.css(d.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),b||h.notifyScrollEvent(h.win[0])})}else this.getScrollTop=function(){return h.docscroll.scrollTop()},this.setScrollTop=function(a){h.docscroll.scrollTop(a)},this.getScrollLeft=function(){return h.hasreversehr?h.detected.ismozilla?h.page.maxw-Math.abs(h.docscroll.scrollLeft()):h.page.maxw-h.docscroll.scrollLeft():h.docscroll.scrollLeft()},this.setScrollLeft=function(a){return setTimeout(function(){if(h)return h.hasreversehr&&(a=h.detected.ismozilla?-(h.page.maxw-a):h.page.maxw-a),h.docscroll.scrollLeft(a)},1)};this.getTarget=function(a){return!!a&&(a.target?a.target:!!a.srcElement&&a.srcElement)},this.hasParent=function(b,c){if(!b)return!1;for(var a=b.target||b.srcElement||b||!1;a&&a.id!=c;)a=a.parentNode||!1;return!1!==a};var H={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||e.documentElement.scrollTop,left:a.pageXOffset||e.documentElement.scrollLeft}},this.getOffset=function(){if(h.isfixed){var a=h.win.offset(),c=h.getDocumentScrollOffset();return a.top-=c.top,a.left-=c.left,a}var b=h.win.offset();if(!h.viewport)return b;var d=h.viewport.offset();return{top:b.top-d.top,left:b.left-d.left}},this.updateScrollBar=function(e){var a,c;if(h.ishwscroll)h.rail.css({height:h.win.innerHeight()-(b.railpadding.top+b.railpadding.bottom)}),h.railh&&h.railh.css({width:h.win.innerWidth()-(b.railpadding.left+b.railpadding.right)});else{var d=h.getOffset();if(a={top:d.top,left:d.left-(b.railpadding.left+b.railpadding.right)},a.top+=D(h.win,"border-top-width",!0),a.left+=h.rail.align?h.win.outerWidth()-D(h.win,"border-right-width")-h.rail.width:D(h.win,"border-left-width"),(c=b.railoffset)&&(c.top&&(a.top+=c.top),c.left&&(a.left+=c.left)),h.railslocked||h.rail.css({top:a.top,left:a.left,height:(e?e.h:h.win.innerHeight())-(b.railpadding.top+b.railpadding.bottom)}),h.zoom&&h.zoom.css({top:a.top+1,left:1==h.rail.align?a.left-20:a.left+h.rail.width+4}),h.railh&&!h.railslocked){a={top:d.top,left:d.left},(c=b.railhoffset)&&(c.top&&(a.top+=c.top),c.left&&(a.left+=c.left));var f=h.railh.align?a.top+D(h.win,"border-top-width",!0)+h.win.innerHeight()-h.railh.height:a.top+D(h.win,"border-top-width",!0),g=a.left+D(h.win,"border-left-width");h.railh.css({top:f-(b.railpadding.top+b.railpadding.bottom),left:g,width:h.railh.width})}}},this.doRailClick=function(a,i,b){var c,f,d,g;h.railslocked||(h.cancelEvent(a),"pageY"in a||(a.pageX=a.clientX+e.documentElement.scrollLeft,a.pageY=a.clientY+e.documentElement.scrollTop),i?(c=b?h.doScrollLeft:h.doScrollTop,d=b?(a.pageX-h.railh.offset().left-h.cursorwidth/2)*h.scrollratio.x:(a.pageY-h.rail.offset().top-h.cursorheight/2)*h.scrollratio.y,h.unsynched("relativexy"),c(0|d)):(c=b?h.doScrollLeftBy:h.doScrollBy,d=b?h.scroll.x:h.scroll.y,g=b?a.pageX-h.railh.offset().left:a.pageY-h.rail.offset().top,f=b?h.view.w:h.view.h,c(d>=g?f:-f)))},h.newscrolly=h.newscrollx=0,h.hasanimationframe="requestAnimationFrame"in a,h.hascancelanimationframe="cancelAnimationFrame"in a,h.hasborderbox=!1,this.init=function(){if(h.saved.css=[],d.isoperamini||d.isandroid&&!("hidden"in e))return!0;b.emulatetouch=b.emulatetouch||b.touchbehavior,h.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(e.body)["box-sizing"];var r={"overflow-y":"hidden"};if((d.isie11||d.isie10)&&(r["-ms-overflow-style"]="none"),h.ishwscroll&&(this.doc.css(d.transitionstyle,d.prefixstyle+"transform 0ms ease-out"),d.transitionend&&h.bind(h.doc,d.transitionend,h.onScrollTransitionEnd,!1)),h.zindex="auto",h.ispage||"auto"!=b.zindex?h.zindex=b.zindex:h.zindex=function(){var a=h.win;if("zIndex"in a)return a.zIndex();for(;a.length>0&&9!=a[0].nodeType;){var b=a.css("zIndex");if(!isNaN(b)&&0!==b)return parseInt(b);a=a.parent()}return!1}()||"auto",!h.ispage&&"auto"!=h.zindex&&h.zindex>p&&(p=h.zindex),h.isie&&0===h.zindex&&"auto"==b.zindex&&(h.zindex="auto"),!h.ispage||!d.isieold){var g,s=h.docscroll;h.ispage&&(s=h.haswrapper?h.win:h.doc),h.css(s,r),h.ispage&&(d.isie11||d.isie)&&h.css(c("html"),r),!d.isios||h.ispage||h.haswrapper||h.css(x,{"-webkit-overflow-scrolling":"touch"});var i=c(e.createElement("div"));i.css({position:"relative",top:0,float:"right",width:b.cursorwidth,height:0,"background-color":b.cursorcolor,border:b.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.cursorborderradius,"-moz-border-radius":b.cursorborderradius,"border-radius":b.cursorborderradius}),i.addClass("nicescroll-cursors"),h.cursor=i;var f=c(e.createElement("div"));f.attr("id",h.id),f.addClass("nicescroll-rails nicescroll-rails-vr");var w,u,z=["left","right","top","bottom"];for(var A in z)u=z[A],(w=b.railpadding[u]||0)&&f.css("padding-"+u,w+"px");f.append(i),f.width=Math.max(parseFloat(b.cursorwidth),i.outerWidth()),f.css({width:f.width+"px",zIndex:h.zindex,background:b.background,cursor:"default"}),f.visibility=!0,f.scrollable=!0,f.align="left"==b.railalign?0:1,h.rail=f,h.rail.drag=!1;var j=!1;if(!b.boxzoom||h.ispage||d.isieold||(j=e.createElement("div"),h.bind(j,"click",h.doZoom),h.bind(j,"mouseenter",function(){h.zoom.css("opacity",b.cursoropacitymax)}),h.bind(j,"mouseleave",function(){h.zoom.css("opacity",b.cursoropacitymin)}),h.zoom=c(j),h.zoom.css({cursor:"pointer",zIndex:h.zindex,height:18,width:18,backgroundPosition:"0 0"}),b.dblclickzoom&&h.bind(h.win,"dblclick",h.doZoom),d.cantouch&&b.gesturezoom&&(h.ongesturezoom=function(a){return a.scale>1.5&&h.doZoomIn(a),a.scale<.8&&h.doZoomOut(a),h.cancelEvent(a)},h.bind(h.win,"gestureend",h.ongesturezoom))),h.railh=!1,b.horizrailenabled&&(h.css(s,{overflowX:"hidden"}),(i=c(e.createElement("div"))).css({position:"absolute",top:0,height:b.cursorwidth,width:0,backgroundColor:b.cursorcolor,border:b.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":b.cursorborderradius,"-moz-border-radius":b.cursorborderradius,"border-radius":b.cursorborderradius}),d.isieold&&i.css("overflow","hidden"),i.addClass("nicescroll-cursors"),h.cursorh=i,(g=c(e.createElement("div"))).attr("id",h.id+"-hr"),g.addClass("nicescroll-rails nicescroll-rails-hr"),g.height=Math.max(parseFloat(b.cursorwidth),i.outerHeight()),g.css({height:g.height+"px",zIndex:h.zindex,background:b.background}),g.append(i),g.visibility=!0,g.scrollable=!0,g.align="top"==b.railvalign?0:1,h.railh=g,h.railh.drag=!1),h.ispage)f.css({position:"fixed",top:0,height:"100%"}),f.css(f.align?{right:0}:{left:0}),h.body.append(f),h.railh&&(g.css({position:"fixed",left:0,width:"100%"}),g.css(g.align?{bottom:0}:{top:0}),h.body.append(g));else{if(h.ishwscroll){"static"==h.win.css("position")&&h.css(h.win,{position:"relative"});var o="HTML"==h.win[0].nodeName?h.body:h.win;c(o).scrollTop(0).scrollLeft(0),h.zoom&&(h.zoom.css({position:"absolute",top:1,right:0,"margin-right":f.width+4}),o.append(h.zoom)),f.css({position:"absolute",top:0}),f.css(f.align?{right:0}:{left:0}),o.append(f),g&&(g.css({position:"absolute",left:0,bottom:0}),g.css(g.align?{bottom:0}:{top:0}),o.append(g))}else{h.isfixed="fixed"==h.win.css("position");var v=h.isfixed?"fixed":"absolute";h.isfixed||(h.viewport=h.getViewport(h.win[0])),h.viewport&&(h.body=h.viewport,/fixed|absolute/.test(h.viewport.css("position"))||h.css(h.viewport,{position:"relative"})),f.css({position:v}),h.zoom&&h.zoom.css({position:v}),h.updateScrollBar(),h.body.append(f),h.zoom&&h.body.append(h.zoom),h.railh&&(g.css({position:v}),h.body.append(g))}d.isios&&h.css(h.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),b.disableoutline&&(d.isie&&h.win.attr("hideFocus","true"),d.iswebkit&&h.win.css("outline","none"))}if(!1===b.autohidemode?(h.autohidedom=!1,h.rail.css({opacity:b.cursoropacitymax}),h.railh&&h.railh.css({opacity:b.cursoropacitymax})):!0===b.autohidemode||"leave"===b.autohidemode?(h.autohidedom=c().add(h.rail),d.isie8&&(h.autohidedom=h.autohidedom.add(h.cursor)),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh)),h.railh&&d.isie8&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"scroll"==b.autohidemode?(h.autohidedom=c().add(h.rail),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh))):"cursor"==b.autohidemode?(h.autohidedom=c().add(h.cursor),h.railh&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"hidden"==b.autohidemode&&(h.autohidedom=!1,h.hide(),h.railslocked=!1),d.cantouch||h.istouchcapable||b.emulatetouch||d.hasmstouch){h.scrollmom=new y(h),h.ontouchstart=function(a){if(h.locked||a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;if(h.hasmoving=!1,h.scrollmom.timer&&(h.triggerScrollEnd(),h.scrollmom.stop()),!h.railslocked){var e=h.getTarget(a);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return h.stopPropagation(a);var k="mousedown"===a.type;if(!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),h.forcescreen){var f=a;(a={original:a.original?a.original:a}).clientX=f.screenX,a.clientY=f.screenY}if(h.rail.drag={x:a.clientX,y:a.clientY,sx:h.scroll.x,sy:h.scroll.y,st:h.getScrollTop(),sl:h.getScrollLeft(),pt:2,dl:!1,tg:e},h.ispage||!b.directionlockdeadzone)h.rail.drag.dl="f";else{var g={w:q.width(),h:q.height()},i=h.getContentSize(),l=i.h-g.h,m=i.w-g.w;h.rail.scrollable&&!h.railh.scrollable?h.rail.drag.ck=l>0&&"v":!h.rail.scrollable&&h.railh.scrollable?h.rail.drag.ck=m>0&&"h":h.rail.drag.ck=!1}if(b.emulatetouch&&h.isiframe&&d.isie){var j=h.win.position();h.rail.drag.x+=j.left,h.rail.drag.y+=j.top}if(h.hasmoving=!1,h.lastmouseup=!1,h.scrollmom.reset(a.clientX,a.clientY),e&&k){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return d.hasmousecapture&&e.setCapture(),b.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(a){if(h.hasmoving)return!1;e._onclick.call(this,a)}),h.cancelEvent(a)):h.stopPropagation(a);/SUBMIT|CANCEL|BUTTON/i.test(c(e).attr("type"))&&(h.preventclick={tg:e,click:!1})}}},h.ontouchend=function(a){if(!h.rail.drag)return!0;if(2==h.rail.drag.pt){if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;h.rail.drag=!1;var b="mouseup"===a.type;if(h.hasmoving&&(h.scrollmom.doMomentum(),h.lastmouseup=!0,h.hideCursor(),d.hasmousecapture&&e.releaseCapture(),b))return h.cancelEvent(a)}else if(1==h.rail.drag.pt)return h.onmouseup(a)};var C=b.emulatetouch&&h.isiframe&&!d.hasmousecapture,D=.3*b.directionlockdeadzone|0;h.ontouchmove=function(a,r){if(!h.rail.drag||a.targetTouches&&b.preventmultitouchscrolling&&a.targetTouches.length>1||a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!0;if(2==h.rail.drag.pt){if("changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),o=n=0,C&&!r){var n,o,p=h.win.position();o=-p.left,n=-p.top}var k=a.clientY+n,q=k-h.rail.drag.y,l=a.clientX+o,m=l-h.rail.drag.x,f=h.rail.drag.st-q;if(h.ishwscroll&&b.bouncescroll)f<0?f=Math.round(f/2):f>h.page.maxh&&(f=h.page.maxh+Math.round((f-h.page.maxh)/2));else if(f<0?(f=0,k=0):f>h.page.maxh&&(f=h.page.maxh,k=0),0===k&&!h.hasmoving)return h.ispage||(h.rail.drag=!1),!0;var c=h.getScrollLeft();if(h.railh&&h.railh.scrollable&&(c=h.isrtlmode?m-h.rail.drag.sl:h.rail.drag.sl-m,h.ishwscroll&&b.bouncescroll?c<0?c=Math.round(c/2):c>h.page.maxw&&(c=h.page.maxw+Math.round((c-h.page.maxw)/2)):(c<0&&(c=0,l=0),c>h.page.maxw&&(c=h.page.maxw,l=0))),!h.hasmoving){if(h.rail.drag.y===a.clientY&&h.rail.drag.x===a.clientX)return h.cancelEvent(a);var i=Math.abs(q),j=Math.abs(m),g=b.directionlockdeadzone;if(h.rail.drag.ck?"v"==h.rail.drag.ck?j>g&&i<=D?h.rail.drag=!1:i>g&&(h.rail.drag.dl="v"):"h"==h.rail.drag.ck&&(i>g&&j<=D?h.rail.drag=!1:j>g&&(h.rail.drag.dl="h")):i>g&&j>g?h.rail.drag.dl="f":i>g?h.rail.drag.dl=j>D?"f":"v":j>g&&(h.rail.drag.dl=i>D?"f":"h"),!h.rail.drag.dl)return h.cancelEvent(a);h.triggerScrollStart(a.clientX,a.clientY,0,0,0),h.hasmoving=!0}return h.preventclick&&!h.preventclick.click&&(h.preventclick.click=h.preventclick.tg.onclick||!1,h.preventclick.tg.onclick=h.onpreventclick),h.rail.drag.dl&&("v"==h.rail.drag.dl?c=h.rail.drag.sl:"h"==h.rail.drag.dl&&(f=h.rail.drag.st)),h.synched("touchmove",function(){h.rail.drag&&2==h.rail.drag.pt&&(h.prepareTransition&&h.resetTransition(),h.rail.scrollable&&h.setScrollTop(f),h.scrollmom.update(l,k),h.railh&&h.railh.scrollable?(h.setScrollLeft(c),h.showCursor(f,c)):h.showCursor(f),d.isie10&&e.selection.clear())}),h.cancelEvent(a)}return 1==h.rail.drag.pt?h.onmousemove(a):void 0},h.ontouchstartCursor=function(a,b){if(!h.rail.drag||3==h.rail.drag.pt){if(h.locked)return h.cancelEvent(a);h.cancelScroll(),h.rail.drag={x:a.touches[0].clientX,y:a.touches[0].clientY,sx:h.scroll.x,sy:h.scroll.y,pt:3,hr:!!b};var c=h.getTarget(a);return!h.ispage&&d.hasmousecapture&&c.setCapture(),h.isiframe&&!d.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.cancelEvent(a)}},h.ontouchendCursor=function(a){if(h.rail.drag&&(d.hasmousecapture&&e.releaseCapture(),h.isiframe&&!d.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),3==h.rail.drag.pt))return h.rail.drag=!1,h.cancelEvent(a)},h.ontouchmoveCursor=function(a){if(h.rail.drag&&3==h.rail.drag.pt){if(h.cursorfreezed=!0,h.rail.drag.hr){h.scroll.x=h.rail.drag.sx+(a.touches[0].clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0);var c=h.scrollvaluemaxw;h.scroll.x>c&&(h.scroll.x=c)}else{h.scroll.y=h.rail.drag.sy+(a.touches[0].clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0);var d=h.scrollvaluemax;h.scroll.y>d&&(h.scroll.y=d)}return h.synched("touchmove",function(){h.rail.drag&&3==h.rail.drag.pt&&(h.showCursor(),h.rail.drag.hr?h.doScrollLeft(Math.round(h.scroll.x*h.scrollratio.x),b.cursordragspeed):h.doScrollTop(Math.round(h.scroll.y*h.scrollratio.y),b.cursordragspeed))}),h.cancelEvent(a)}}}if(h.onmousedown=function(a,b){if(!h.rail.drag||1==h.rail.drag.pt){if(h.railslocked)return h.cancelEvent(a);h.cancelScroll(),h.rail.drag={x:a.clientX,y:a.clientY,sx:h.scroll.x,sy:h.scroll.y,pt:1,hr:b||!1};var c=h.getTarget(a);return d.hasmousecapture&&c.setCapture(),h.isiframe&&!d.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.hasmoving=!1,h.cancelEvent(a)}},h.onmouseup=function(a){if(h.rail.drag)return 1!=h.rail.drag.pt||(d.hasmousecapture&&e.releaseCapture(),h.isiframe&&!d.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),h.rail.drag=!1,h.cursorfreezed=!1,h.hasmoving&&h.triggerScrollEnd(),h.cancelEvent(a))},h.onmousemove=function(a){if(h.rail.drag){if(1!==h.rail.drag.pt)return;if(d.ischrome&&0===a.which)return h.onmouseup(a);if(h.cursorfreezed=!0,h.hasmoving||h.triggerScrollStart(a.clientX,a.clientY,0,0,0),h.hasmoving=!0,h.rail.drag.hr){h.scroll.x=h.rail.drag.sx+(a.clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0);var b=h.scrollvaluemaxw;h.scroll.x>b&&(h.scroll.x=b)}else{h.scroll.y=h.rail.drag.sy+(a.clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0);var c=h.scrollvaluemax;h.scroll.y>c&&(h.scroll.y=c)}return h.synched("mousemove",function(){h.cursorfreezed&&(h.showCursor(),h.rail.drag.hr?h.scrollLeft(Math.round(h.scroll.x*h.scrollratio.x)):h.scrollTop(Math.round(h.scroll.y*h.scrollratio.y)))}),h.cancelEvent(a)}h.checkarea=0},d.cantouch||b.emulatetouch)h.onpreventclick=function(a){if(h.preventclick)return h.preventclick.tg.onclick=h.preventclick.click,h.preventclick=!1,h.cancelEvent(a)},h.onclick=!d.isios&&function(a){return!h.lastmouseup||(h.lastmouseup=!1,h.cancelEvent(a))},b.grabcursorenabled&&d.cursorgrabvalue&&(h.css(h.ispage?h.doc:h.win,{cursor:d.cursorgrabvalue}),h.css(h.rail,{cursor:d.cursorgrabvalue}));else{var E=function(c){if(h.selectiondrag){if(c){var b=h.win.outerHeight(),a=c.pageY-h.selectiondrag.top;a>0&&a<b&&(a=0),a>=b&&(a-=b),h.selectiondrag.df=a}if(0!==h.selectiondrag.df){var d=-2*h.selectiondrag.df/6|0;h.doScrollBy(d),h.debounced("doselectionscroll",function(){E()},50)}}};h.hasTextSelected="getSelection"in e?function(){return e.getSelection().rangeCount>0}:"selection"in e?function(){return"None"!=e.selection.type}:function(){return!1},h.onselectionstart=function(a){h.ispage||(h.selectiondrag=h.win.offset())},h.onselectionend=function(a){h.selectiondrag=!1},h.onselectiondrag=function(a){h.selectiondrag&&h.hasTextSelected()&&h.debounced("selectionscroll",function(){E(a)},250)}}if(d.hasw3ctouch?(h.css(h.ispage?c("html"):h.win,{"touch-action":"none"}),h.css(h.rail,{"touch-action":"none"}),h.css(h.cursor,{"touch-action":"none"}),h.bind(h.win,"pointerdown",h.ontouchstart),h.bind(e,"pointerup",h.ontouchend),h.delegate(e,"pointermove",h.ontouchmove)):d.hasmstouch?(h.css(h.ispage?c("html"):h.win,{"-ms-touch-action":"none"}),h.css(h.rail,{"-ms-touch-action":"none"}),h.css(h.cursor,{"-ms-touch-action":"none"}),h.bind(h.win,"MSPointerDown",h.ontouchstart),h.bind(e,"MSPointerUp",h.ontouchend),h.delegate(e,"MSPointerMove",h.ontouchmove),h.bind(h.cursor,"MSGestureHold",function(a){a.preventDefault()}),h.bind(h.cursor,"contextmenu",function(a){a.preventDefault()})):d.cantouch&&(h.bind(h.win,"touchstart",h.ontouchstart,!1,!0),h.bind(e,"touchend",h.ontouchend,!1,!0),h.bind(e,"touchcancel",h.ontouchend,!1,!0),h.delegate(e,"touchmove",h.ontouchmove,!1,!0)),b.emulatetouch&&(h.bind(h.win,"mousedown",h.ontouchstart,!1,!0),h.bind(e,"mouseup",h.ontouchend,!1,!0),h.bind(e,"mousemove",h.ontouchmove,!1,!0)),(b.cursordragontouch|| !d.cantouch&&!b.emulatetouch)&&(h.rail.css({cursor:"default"}),h.railh&&h.railh.css({cursor:"default"}),h.jqbind(h.rail,"mouseenter",function(){if(!h.ispage&&!h.win.is(":visible"))return!1;h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.rail,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),b.sensitiverail&&(h.bind(h.rail,"click",function(a){h.doRailClick(a,!1,!1)}),h.bind(h.rail,"dblclick",function(a){h.doRailClick(a,!0,!1)}),h.bind(h.cursor,"click",function(a){h.cancelEvent(a)}),h.bind(h.cursor,"dblclick",function(a){h.cancelEvent(a)})),h.railh&&(h.jqbind(h.railh,"mouseenter",function(){if(!h.ispage&&!h.win.is(":visible"))return!1;h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.railh,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),b.sensitiverail&&(h.bind(h.railh,"click",function(a){h.doRailClick(a,!1,!0)}),h.bind(h.railh,"dblclick",function(a){h.doRailClick(a,!0,!0)}),h.bind(h.cursorh,"click",function(a){h.cancelEvent(a)}),h.bind(h.cursorh,"dblclick",function(a){h.cancelEvent(a)})))),b.cursordragontouch&&(this.istouchcapable||d.cantouch)&&(h.bind(h.cursor,"touchstart",h.ontouchstartCursor),h.bind(h.cursor,"touchmove",h.ontouchmoveCursor),h.bind(h.cursor,"touchend",h.ontouchendCursor),h.cursorh&&h.bind(h.cursorh,"touchstart",function(a){h.ontouchstartCursor(a,!0)}),h.cursorh&&h.bind(h.cursorh,"touchmove",h.ontouchmoveCursor),h.cursorh&&h.bind(h.cursorh,"touchend",h.ontouchendCursor)),b.emulatetouch||d.isandroid||d.isios?(h.bind(d.hasmousecapture?h.win:e,"mouseup",h.ontouchend),h.onclick&&h.bind(e,"click",h.onclick),b.cursordragontouch?(h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.cursorh&&h.bind(h.cursorh,"mousedown",function(a){h.onmousedown(a,!0)}),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onmouseup)):(h.bind(h.rail,"mousedown",function(a){a.preventDefault()}),h.railh&&h.bind(h.railh,"mousedown",function(a){a.preventDefault()}))):(h.bind(d.hasmousecapture?h.win:e,"mouseup",h.onmouseup),h.bind(e,"mousemove",h.onmousemove),h.onclick&&h.bind(e,"click",h.onclick),h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.railh&&(h.bind(h.cursorh,"mousedown",function(a){h.onmousedown(a,!0)}),h.bind(h.cursorh,"mouseup",h.onmouseup)),!h.ispage&&b.enablescrollonselection&&(h.bind(h.win[0],"mousedown",h.onselectionstart),h.bind(e,"mouseup",h.onselectionend),h.bind(h.cursor,"mouseup",h.onselectionend),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onselectionend),h.bind(e,"mousemove",h.onselectiondrag)),h.zoom&&(h.jqbind(h.zoom,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.zoom,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}))),b.enablemousewheel&&(h.isiframe||h.mousewheel(d.isie&&h.ispage?e:h.win,h.onmousewheel),h.mousewheel(h.rail,h.onmousewheel),h.railh&&h.mousewheel(h.railh,h.onmousewheelhr)),h.ispage||d.cantouch||/HTML|^BODY/.test(h.win[0].nodeName)||(h.win.attr("tabindex")||h.win.attr({tabindex:++n}),h.bind(h.win,"focus",function(a){l=h.getTarget(a).id||h.getTarget(a)||!1,h.hasfocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.bind(h.win,"blur",function(a){l=!1,h.hasfocus=!1}),h.bind(h.win,"mouseenter",function(a){m=h.getTarget(a).id||h.getTarget(a)||!1,h.hasmousefocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.bind(h.win,"mouseleave",function(a){m=!1,h.hasmousefocus=!1,h.rail.drag||h.hideCursor()})),h.onkeypress=function(e){if(h.railslocked&&0===h.page.maxh)return!0;e=e||a.event;var f=h.getTarget(e);if(f&&/INPUT|TEXTAREA|SELECT|OPTION/.test(f.nodeName)&&(!(f.getAttribute("type")||f.type)||!/submit|button|cancel/i.tp)||c(f).attr("contenteditable"))return!0;if(h.hasfocus||h.hasmousefocus&&!l||h.ispage&&!l&&!m){var i=e.keyCode;if(h.railslocked&&27!=i)return h.cancelEvent(e);var g=e.ctrlKey||!1,j=e.shiftKey||!1,d=!1;switch(i){case 38:case 63233:h.doScrollBy(72),d=!0;break;case 40:case 63235:h.doScrollBy(-72),d=!0;break;case 37:case 63232:h.railh&&(g?h.doScrollLeft(0):h.doScrollLeftBy(72),d=!0);break;case 39:case 63234:h.railh&&(g?h.doScrollLeft(h.page.maxw):h.doScrollLeftBy(-72),d=!0);break;case 33:case 63276:h.doScrollBy(h.view.h),d=!0;break;case 34:case 63277:h.doScrollBy(-h.view.h),d=!0;break;case 36:case 63273:h.railh&&g?h.doScrollPos(0,0):h.doScrollTo(0),d=!0;break;case 35:case 63275:h.railh&&g?h.doScrollPos(h.page.maxw,h.page.maxh):h.doScrollTo(h.page.maxh),d=!0;break;case 32:b.spacebarenabled&&(j?h.doScrollBy(h.view.h):h.doScrollBy(-h.view.h),d=!0);break;case 27:h.zoomactive&&(h.doZoom(),d=!0)}if(d)return h.cancelEvent(e)}},b.enablekeyboard&&h.bind(e,d.isopera&&!d.isopera12?"keypress":"keydown",h.onkeypress),h.bind(e,"keydown",function(a){a.ctrlKey&&(h.wheelprevented=!0)}),h.bind(e,"keyup",function(a){a.ctrlKey||(h.wheelprevented=!1)}),h.bind(a,"blur",function(a){h.wheelprevented=!1}),h.bind(a,"resize",h.onscreenresize),h.bind(a,"orientationchange",h.onscreenresize),h.bind(a,"load",h.lazyResize),d.ischrome&&!h.ispage&&!h.haswrapper){var F=h.win.attr("style"),B=parseFloat(h.win.css("width"))+1;h.win.css("width",B),h.synched("chromefix",function(){h.win.attr("style",F)})}if(h.onAttributeChange=function(a){h.lazyResize(h.isieold?250:30)},b.enableobserver&&(h.isie11|| !1===t||(h.observerbody=new t(function(a){if(a.forEach(function(a){if("attributes"==a.type)return x.hasClass("modal-open")&&x.hasClass("modal-dialog")&&!c.contains(c(".modal-dialog")[0],h.doc[0])?h.hide():h.show()}),h.me.clientWidth!=h.page.width||h.me.clientHeight!=h.page.height)return h.lazyResize(30)}),h.observerbody.observe(e.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!h.ispage&&!h.haswrapper)){var k=h.win[0];!1!==t?(h.observer=new t(function(a){a.forEach(h.onAttributeChange)}),h.observer.observe(k,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),h.observerremover=new t(function(a){a.forEach(function(a){if(a.removedNodes.length>0){for(var b in a.removedNodes)if(h&&a.removedNodes[b]===k)return h.remove()}})}),h.observerremover.observe(k.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(h.bind(k,d.isie&&!d.isie9?"propertychange":"DOMAttrModified",h.onAttributeChange),d.isie9&&k.attachEvent("onpropertychange",h.onAttributeChange),h.bind(k,"DOMNodeRemoved",function(a){a.target===k&&h.remove()}))}!h.ispage&&b.boxzoom&&h.bind(a,"resize",h.resizeZoom),h.istextarea&&(h.bind(h.win,"keydown",h.lazyResize),h.bind(h.win,"mouseup",h.lazyResize)),h.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var _=function(){h.iframexd=!1;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(g){h.iframexd=!0,e=!1}if(h.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(h.forcescreen=!0,h.isiframe&&(h.iframe={doc:c(e),html:h.doc.contents().find("html")[0],body:h.doc.contents().find("body")[0]},h.getContentSize=function(){return{w:Math.max(h.iframe.html.scrollWidth,h.iframe.body.scrollWidth),h:Math.max(h.iframe.html.scrollHeight,h.iframe.body.scrollHeight)}},h.docscroll=c(h.iframe.body)),!d.isios&&b.iframeautoresize&&!h.isiframe){h.win.scrollTop(0),h.doc.height("");var e,f=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);h.doc.height(f)}h.lazyResize(30),h.css(c(h.iframe.body),r),d.isios&&h.haswrapper&&h.css(c(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?h.bind(this.contentWindow,"scroll",h.onscroll):h.bind(e,"scroll",h.onscroll),b.enablemousewheel&&h.mousewheel(e,h.onmousewheel),b.enablekeyboard&&h.bind(e,d.isopera?"keypress":"keydown",h.onkeypress),d.cantouch?(h.bind(e,"touchstart",h.ontouchstart),h.bind(e,"touchmove",h.ontouchmove)):b.emulatetouch&&(h.bind(e,"mousedown",h.ontouchstart),h.bind(e,"mousemove",function(a){return h.ontouchmove(a,!0)}),b.grabcursorenabled&&d.cursorgrabvalue&&h.css(c(e.body),{cursor:d.cursorgrabvalue})),h.bind(e,"mouseup",h.ontouchend),h.zoom&&(b.dblclickzoom&&h.bind(e,"dblclick",h.doZoom),h.ongesturezoom&&h.bind(e,"gestureend",h.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){_.call(h.doc[0],!1)},500),h.bind(this.doc,"load",_)}},this.showCursor=function(a,c){if(h.cursortimeout&&(clearTimeout(h.cursortimeout),h.cursortimeout=0),h.rail){if(h.autohidedom&&(h.autohidedom.stop().css({opacity:b.cursoropacitymax}),h.cursoractive=!0),h.rail.drag&&1==h.rail.drag.pt||(void 0!==a&& !1!==a&&(h.scroll.y=a/h.scrollratio.y|0),void 0!==c&&(h.scroll.x=c/h.scrollratio.x|0)),h.cursor.css({height:h.cursorheight,top:h.scroll.y}),h.cursorh){var d=h.hasreversehr?h.scrollvaluemaxw-h.scroll.x:h.scroll.x;h.cursorh.css({width:h.cursorwidth,left:!h.rail.align&&h.rail.visibility?d+h.rail.width:d}),h.cursoractive=!0}h.zoom&&h.zoom.stop().css({opacity:b.cursoropacitymax})}},this.hideCursor=function(a){h.cursortimeout||h.rail&&h.autohidedom&&(h.hasmousefocus&&"leave"===b.autohidemode||(h.cursortimeout=setTimeout(function(){h.rail.active&&h.showonmouseevent||(h.autohidedom.stop().animate({opacity:b.cursoropacitymin}),h.zoom&&h.zoom.stop().animate({opacity:b.cursoropacitymin}),h.cursoractive=!1),h.cursortimeout=0},a||b.hidecursordelay)))},this.noticeCursor=function(a,b,c){h.showCursor(b,c),h.rail.active||h.hideCursor(a)},this.getContentSize=h.ispage?function(){return{w:Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),h:Math.max(e.body.scrollHeight,e.documentElement.scrollHeight)}}:h.haswrapper?function(){return{w:h.doc[0].offsetWidth,h:h.doc[0].offsetHeight}}:function(){return{w:h.docscroll[0].scrollWidth,h:h.docscroll[0].scrollHeight}},this.onResize=function(j,d){if(!h||!h.win)return!1;var e=h.page.maxh,f=h.page.maxw,g=h.view.h,i=h.view.w;if(h.view={w:h.ispage?h.win.width():h.win[0].clientWidth,h:h.ispage?h.win.height():h.win[0].clientHeight},h.page=d||h.getContentSize(),h.page.maxh=Math.max(0,h.page.h-h.view.h),h.page.maxw=Math.max(0,h.page.w-h.view.w),h.page.maxh==e&&h.page.maxw==f&&h.view.w==i&&h.view.h==g){if(h.ispage)return h;var a=h.win.offset();if(h.lastposition){var c=h.lastposition;if(c.top==a.top&&c.left==a.left)return h}h.lastposition=a}return 0===h.page.maxh?(h.hideRail(),h.scrollvaluemax=0,h.scroll.y=0,h.scrollratio.y=0,h.cursorheight=0,h.setScrollTop(0),h.rail&&(h.rail.scrollable=!1)):(h.page.maxh-=b.railpadding.top+b.railpadding.bottom,h.rail.scrollable=!0),0===h.page.maxw?(h.hideRailHr(),h.scrollvaluemaxw=0,h.scroll.x=0,h.scrollratio.x=0,h.cursorwidth=0,h.setScrollLeft(0),h.railh&&(h.railh.scrollable=!1)):(h.page.maxw-=b.railpadding.left+b.railpadding.right,h.railh&&(h.railh.scrollable=b.horizrailenabled)),h.railslocked=h.locked||0===h.page.maxh&&0===h.page.maxw,h.railslocked?(h.ispage||h.updateScrollBar(h.view),!1):(h.hidden||(h.rail.visibility||h.showRail(),h.railh&&!h.railh.visibility&&h.showRailHr()),h.istextarea&&h.win.css("resize")&&"none"!=h.win.css("resize")&&(h.view.h-=20),h.cursorheight=Math.min(h.view.h,Math.round(h.view.h*(h.view.h/h.page.h))),h.cursorheight=b.cursorfixedheight?b.cursorfixedheight:Math.max(b.cursorminheight,h.cursorheight),h.cursorwidth=Math.min(h.view.w,Math.round(h.view.w*(h.view.w/h.page.w))),h.cursorwidth=b.cursorfixedheight?b.cursorfixedheight:Math.max(b.cursorminheight,h.cursorwidth),h.scrollvaluemax=h.view.h-h.cursorheight-(b.railpadding.top+b.railpadding.bottom),h.hasborderbox||(h.scrollvaluemax-=h.cursor[0].offsetHeight-h.cursor[0].clientHeight),h.railh&&(h.railh.width=h.page.maxh>0?h.view.w-h.rail.width:h.view.w,h.scrollvaluemaxw=h.railh.width-h.cursorwidth-(b.railpadding.left+b.railpadding.right)),h.ispage||h.updateScrollBar(h.view),h.scrollratio={x:h.page.maxw/h.scrollvaluemaxw,y:h.page.maxh/h.scrollvaluemax},h.getScrollTop()>h.page.maxh?h.doScrollTop(h.page.maxh):(h.scroll.y=h.getScrollTop()/h.scrollratio.y|0,h.scroll.x=h.getScrollLeft()/h.scrollratio.x|0,h.cursoractive&&h.noticeCursor()),h.scroll.y&&0===h.getScrollTop()&&h.doScrollTo(h.scroll.y*h.scrollratio.y|0),h)},this.resize=h.onResize;var I=0;this.onscreenresize=function(b){clearTimeout(I);var a=!h.ispage&&!h.haswrapper;a&&h.hideRails(),I=setTimeout(function(){h&&(a&&h.showRails(),h.resize()),I=0},120)},this.lazyResize=function(a){return clearTimeout(I),a=isNaN(a)?240:a,I=setTimeout(function(){h&&h.resize(),I=0},a),h},this.jqbind=function(a,b,d){h.events.push({e:a,n:b,f:d,q:!0}),c(a).on(b,d)},this.mousewheel=function(a,b,c){var d="jquery"in a?a[0]:a;if("onwheel"in e.createElement("div"))h._bind(d,"wheel",b,c||!1);else{var f=void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll";E(d,f,b,c||!1),"DOMMouseScroll"==f&&E(d,"MozMousePixelScroll",b,c||!1)}};var J=!1;if(d.haseventlistener){try{var B=Object.defineProperty({},"passive",{get:function(){J=!0}});a.addEventListener("test",null,B)}catch(K){}this.stopPropagation=function(a){return!!a&&((a=a.original?a.original:a).stopPropagation(),!1)},this.cancelEvent=function(a){return a.cancelable&&a.preventDefault(),a.stopImmediatePropagation(),a.preventManipulation&&a.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=e.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(a,b,c){this.attachEvent("on"+a,b)},a.constructor.prototype.removeEventListener=e.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(a,b,c){this.detachEvent("on"+a,b)},this.cancelEvent=function(b){return(b=b||a.event)&&(b.cancelBubble=!0,b.cancel=!0,b.returnValue=!1),!1},this.stopPropagation=function(b){return(b=b||a.event)&&(b.cancelBubble=!0),!1};this.delegate=function(d,b,c,e,f){var a=r[b]||!1;a||(a={a:[],l:[],f:function(c){for(var d=a.l,e=!1,b=d.length-1;b>=0;b--)if(!1===(e=d[b].call(c.target,c)))return!1;return e}},h.bind(d,b,a.f,e,f),r[b]=a),h.ispage?(a.a=[h.id].concat(a.a),a.l=[c].concat(a.l)):(a.a.push(h.id),a.l.push(c))},this.undelegate=function(d,c,f,g,i){var a=r[c]||!1;if(a&&a.l)for(var b=0,e=a.l.length;b<e;b++)a.a[b]===h.id&&(a.a.splice(b),a.l.splice(b),0===a.a.length&&(h._unbind(d,c,a.l.f),r[c]=null))},this.bind=function(a,b,c,d,e){var f="jquery"in a?a[0]:a;h._bind(f,b,c,d||!1,e||!1)},this._bind=function(a,b,c,d,e){h.events.push({e:a,n:b,f:c,b:d,q:!1}),J&&e?a.addEventListener(b,c,{passive:!1,capture:d}):a.addEventListener(b,c,d||!1)},this._unbind=function(b,a,c,d){r[a]?h.undelegate(b,a,c,d):b.removeEventListener(a,c,d)},this.unbindAll=function(){for(var b=0;b<h.events.length;b++){var a=h.events[b];a.q?a.e.unbind(a.n,a.f):h._unbind(a.e,a.n,a.f,a.b)}},this.showRails=function(){return h.showRail().showRailHr()},this.showRail=function(){return 0!==h.page.maxh&&(h.ispage||"none"!=h.win.css("display"))&&(h.rail.visibility=!0,h.rail.css("display","block")),h},this.showRailHr=function(){return h.railh&&0!==h.page.maxw&&(h.ispage||"none"!=h.win.css("display"))&&(h.railh.visibility=!0,h.railh.css("display","block")),h},this.hideRails=function(){return h.hideRail().hideRailHr()},this.hideRail=function(){return h.rail.visibility=!1,h.rail.css("display","none"),h},this.hideRailHr=function(){return h.railh&&(h.railh.visibility=!1,h.railh.css("display","none")),h},this.show=function(){return h.hidden=!1,h.railslocked=!1,h.showRails()},this.hide=function(){return h.hidden=!0,h.railslocked=!0,h.hideRails()},this.toggle=function(){return h.hidden?h.show():h.hide()},this.remove=function(){for(var e in h.stop(),h.cursortimeout&&clearTimeout(h.cursortimeout),h.delaylist)h.delaylist[e]&&g(h.delaylist[e].h);h.doZoomOut(),h.unbindAll(),d.isie9&&h.win[0].detachEvent("onpropertychange",h.onAttributeChange),!1!==h.observer&&h.observer.disconnect(),!1!==h.observerremover&&h.observerremover.disconnect(),!1!==h.observerbody&&h.observerbody.disconnect(),h.events=null,h.cursor&&h.cursor.remove(),h.cursorh&&h.cursorh.remove(),h.rail&&h.rail.remove(),h.railh&&h.railh.remove(),h.zoom&&h.zoom.remove();for(var b=0;b<h.saved.css.length;b++){var a=h.saved.css[b];a[0].css(a[1],void 0===a[2]?"":a[2])}h.saved=!1,h.me.data("__nicescroll","");var i=c.nicescroll;for(var f in i.each(function(a){if(this&&this.id===h.id){delete i[a];for(var b=++a;b<i.length;b++,a++)i[a]=i[b];--i.length&&delete i[i.length]}}),h)h[f]=null,delete h[f];h=null},this.scrollstart=function(a){return this.onscrollstart=a,h},this.scrollend=function(a){return this.onscrollend=a,h},this.scrollcancel=function(a){return this.onscrollcancel=a,h},this.zoomin=function(a){return this.onzoomin=a,h},this.zoomout=function(a){return this.onzoomout=a,h},this.isScrollable=function(b){var a=b.target?b.target:b;if("OPTION"==a.nodeName)return!0;for(;a&&1==a.nodeType&&a!==this.me[0]&&!/^BODY|HTML/.test(a.nodeName);){var d=c(a),e=d.css("overflowY")||d.css("overflowX")||d.css("overflow")||"";if(/scroll|auto/.test(e))return a.clientHeight!=a.scrollHeight;a=!!a.parentNode&&a.parentNode}return!1},this.getViewport=function(d){for(var a=!(!d||!d.parentNode)&&d.parentNode;a&&1==a.nodeType&&!/^BODY|HTML/.test(a.nodeName);){var b=c(a);if(/fixed|absolute/.test(b.css("position")))return b;var e=b.css("overflowY")||b.css("overflowX")||b.css("overflow")||"";if(/scroll|auto/.test(e)&&a.clientHeight!=a.scrollHeight||b.getNiceScroll().length>0)return b;a=!!a.parentNode&&a.parentNode}return!1},this.triggerScrollStart=function(a,b,c,d,e){if(h.onscrollstart){var f={type:"scrollstart",current:{x:a,y:b},request:{x:c,y:d},end:{x:h.newscrollx,y:h.newscrolly},speed:e};h.onscrollstart.call(h,f)}},this.triggerScrollEnd=function(){if(h.onscrollend){var a=h.getScrollLeft(),b=h.getScrollTop(),c={type:"scrollend",current:{x:a,y:b},end:{x:a,y:b}};h.onscrollend.call(h,c)}};var L=0,M=0,N=0,O=1,P=!1;if(this.onmousewheel=function(a){if(h.wheelprevented||h.locked)return!1;if(h.railslocked)return h.debounced("checkunlock",h.resize,250),!1;if(h.rail.drag)return h.cancelEvent(a);if("auto"===b.oneaxismousemode&&0!==a.deltaX&&(b.oneaxismousemode=!1),b.oneaxismousemode&&0===a.deltaX&&!h.rail.scrollable)return!h.railh||!h.railh.scrollable||h.onmousewheelhr(a);var c=u(),d=!1;if(b.preservenativescrolling&&h.checkarea+600<c&&(h.nativescrollingarea=h.isScrollable(a),d=!0),h.checkarea=c,h.nativescrollingarea)return!0;var e=G(a,!1,d);return e&&(h.checkarea=0),e},this.onmousewheelhr=function(a){if(!h.wheelprevented){if(h.railslocked||!h.railh.scrollable)return!0;if(h.rail.drag)return h.cancelEvent(a);var c=u(),d=!1;return b.preservenativescrolling&&h.checkarea+600<c&&(h.nativescrollingarea=h.isScrollable(a),d=!0),h.checkarea=c,!!h.nativescrollingarea||(h.railslocked?h.cancelEvent(a):G(a,!0,d))}},this.stop=function(){return h.cancelScroll(),h.scrollmon&&h.scrollmon.stop(),h.cursorfreezed=!1,h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.noticeCursor(),h},this.getTransitionSpeed=function(a){return 80+a/72*b.scrollspeed|0},b.smoothscroll){if(h.ishwscroll&&d.hastransition&&b.usetransition&&b.smoothscroll){var Q="";this.resetTransition=function(){Q="",h.doc.css(d.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(b,e){var c=e?b:h.getTransitionSpeed(b),a=c+"ms";return Q!==a&&(Q=a,h.doc.css(d.prefixstyle+"transition-duration",a)),c},this.doScrollLeft=function(a,b){var c=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(c,a,b)},this.cursorupdate={running:!1,start:function(){var a=this;if(!a.running){a.running=!0;var b=function(){a.running&&f(b),h.showCursor(h.getScrollTop(),h.getScrollLeft()),h.notifyScrollEvent(h.win[0])};f(b)}},stop:function(){this.running=!1}},this.doScrollPos=function(a,c,m){var f=h.getScrollTop(),g=h.getScrollLeft();if(((h.newscrolly-f)*(c-f)<0||(h.newscrollx-g)*(a-g)<0)&&h.cancelScroll(),b.bouncescroll?(c<0?c=c/2|0:c>h.page.maxh&&(c=h.page.maxh+(c-h.page.maxh)/2|0),a<0?a=a/2|0:a>h.page.maxw&&(a=h.page.maxw+(a-h.page.maxw)/2|0)):(c<0?c=0:c>h.page.maxh&&(c=h.page.maxh),a<0?a=0:a>h.page.maxw&&(a=h.page.maxw)),h.scrollrunning&&a==h.newscrollx&&c==h.newscrolly)return!1;h.newscrolly=c,h.newscrollx=a;var i=h.getScrollTop(),j=h.getScrollLeft(),e={};e.x=a-j,e.y=c-i;var l=0|Math.sqrt(e.x*e.x+e.y*e.y),k=h.prepareTransition(l);h.scrollrunning||(h.scrollrunning=!0,h.triggerScrollStart(j,i,a,c,k),h.cursorupdate.start()),h.scrollendtrapped=!0,d.transitionend||(h.scrollendtrapped&&clearTimeout(h.scrollendtrapped),h.scrollendtrapped=setTimeout(h.onScrollTransitionEnd,k)),h.setScrollTop(h.newscrolly),h.setScrollLeft(h.newscrollx)},this.cancelScroll=function(){if(!h.scrollendtrapped)return!0;var a=h.getScrollTop(),b=h.getScrollLeft();return h.scrollrunning=!1,d.transitionend||clearTimeout(d.transitionend),h.scrollendtrapped=!1,h.resetTransition(),h.setScrollTop(a),h.railh&&h.setScrollLeft(b),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1,h.cursorfreezed=!1,h.cursorupdate.stop(),h.showCursor(a,b),h},this.onScrollTransitionEnd=function(){if(h.scrollendtrapped){var a=h.getScrollTop(),c=h.getScrollLeft();if(a<0?a=0:a>h.page.maxh&&(a=h.page.maxh),c<0?c=0:c>h.page.maxw&&(c=h.page.maxw),a!=h.newscrolly||c!=h.newscrollx)return h.doScrollPos(c,a,b.snapbackspeed);h.scrollrunning&&h.triggerScrollEnd(),h.scrollrunning=!1,h.scrollendtrapped=!1,h.resetTransition(),h.timerscroll=!1,h.setScrollTop(a),h.railh&&h.setScrollLeft(c),h.cursorupdate.stop(),h.noticeCursor(!1,a,c),h.cursorfreezed=!1}}}else this.doScrollLeft=function(a,b){var c=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,l){var c=h.getScrollTop(),d=h.getScrollLeft();((h.newscrolly-c)*(b-c)<0||(h.newscrollx-d)*(a-d)<0)&&h.cancelScroll();var e=!1;if(h.bouncescroll&&h.rail.visibility||(b<0?(b=0,e=!0):b>h.page.maxh&&(b=h.page.maxh,e=!0)),h.bouncescroll&&h.railh.visibility||(a<0?(a=0,e=!0):a>h.page.maxw&&(a=h.page.maxw,e=!0)),h.scrollrunning&&h.newscrolly===b&&h.newscrollx===a)return!0;h.newscrolly=b,h.newscrollx=a,h.dst={},h.dst.x=a-d,h.dst.y=b-c,h.dst.px=d,h.dst.py=c;var j=0|Math.sqrt(h.dst.x*h.dst.x+h.dst.y*h.dst.y),g=h.getTransitionSpeed(j);h.bzscroll={};var i=e?1:.58;h.bzscroll.x=new A(d,h.newscrollx,g,0,0,i,1),h.bzscroll.y=new A(c,h.newscrolly,g,0,0,i,1),u();var k=function(){if(h.scrollrunning){var a=h.bzscroll.y.getPos();h.setScrollLeft(h.bzscroll.x.getNow()),h.setScrollTop(h.bzscroll.y.getNow()),a<=1?h.timer=f(k):(h.scrollrunning=!1,h.timer=0,h.triggerScrollEnd())}};h.scrollrunning||(h.triggerScrollStart(d,c,a,b,g),h.scrollrunning=!0,h.timer=f(k))},this.cancelScroll=function(){return h.timer&&g(h.timer),h.timer=0,h.bzscroll=!1,h.scrollrunning=!1,h}}else this.doScrollLeft=function(a,b){var c=h.getScrollTop();h.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=h.getScrollLeft();h.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,e){var c=a>h.page.maxw?h.page.maxw:a;c<0&&(c=0);var d=b>h.page.maxh?h.page.maxh:b;d<0&&(d=0),h.synched("scroll",function(){h.setScrollTop(d),h.setScrollLeft(c)})},this.cancelScroll=function(){};this.doScrollBy=function(a,b){F(0,a)},this.doScrollLeftBy=function(a,b){F(a,0)},this.doScrollTo=function(b,c){var a=c?Math.round(b*h.scrollratio.y):b;a<0?a=0:a>h.page.maxh&&(a=h.page.maxh),h.cursorfreezed=!1,h.doScrollTop(b)},this.checkContentSize=function(){var a=h.getContentSize();a.h==h.page.h&&a.w==h.page.w||h.resize(!1,a)},h.onscroll=function(a){h.rail.drag||h.cursorfreezed||h.synched("scroll",function(){h.scroll.y=Math.round(h.getScrollTop()/h.scrollratio.y),h.railh&&(h.scroll.x=Math.round(h.getScrollLeft()/h.scrollratio.x)),h.noticeCursor()})},h.bind(h.docscroll,"scroll",h.onscroll),this.doZoomIn=function(f){if(!h.zoomactive){h.zoomactive=!0,h.zoomrestore={style:{}};var b=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],c=h.win[0].style;for(var g in b){var a=b[g];h.zoomrestore.style[a]=void 0!==c[a]?c[a]:""}h.zoomrestore.style.width=h.win.css("width"),h.zoomrestore.style.height=h.win.css("height"),h.zoomrestore.padding={w:h.win.outerWidth()-h.win.width(),h:h.win.outerHeight()-h.win.height()},d.isios4&&(h.zoomrestore.scrollTop=q.scrollTop(),q.scrollTop(0)),h.win.css({position:d.isios4?"absolute":"fixed",top:0,left:0,zIndex:p+100,margin:0});var e=h.win.css("backgroundColor");return(""===e||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(e))&&h.win.css("backgroundColor","#fff"),h.rail.css({zIndex:p+101}),h.zoom.css({zIndex:p+102}),h.zoom.css("backgroundPosition","0 -18px"),h.resizeZoom(),h.onzoomin&&h.onzoomin.call(h),h.cancelEvent(f)}},this.doZoomOut=function(a){if(h.zoomactive)return h.zoomactive=!1,h.win.css("margin",""),h.win.css(h.zoomrestore.style),d.isios4&&q.scrollTop(h.zoomrestore.scrollTop),h.rail.css({"z-index":h.zindex}),h.zoom.css({"z-index":h.zindex}),h.zoomrestore=!1,h.zoom.css("backgroundPosition","0 0"),h.onResize(),h.onzoomout&&h.onzoomout.call(h),h.cancelEvent(a)},this.doZoom=function(a){return h.zoomactive?h.doZoomOut(a):h.doZoomIn(a)},this.resizeZoom=function(){if(h.zoomactive){var a=h.getScrollTop();h.win.css({width:q.width()-h.zoomrestore.padding.w+"px",height:q.height()-h.zoomrestore.padding.h+"px"}),h.onResize(),h.setScrollTop(Math.min(h.page.maxh,a))}},this.init(),c.nicescroll.push(this)},y=function(a){var b=this;this.nc=a,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(a,c){b.stop(),b.steptime=0,b.lasttime=u(),b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var d=u();b.steptime=d-b.lasttime,b.lasttime=d;var e=c-b.lasty,f=a-b.lastx,g=b.nc.getScrollTop()+e,h=b.nc.getScrollLeft()+f;b.snapx=h<0||h>b.nc.page.maxw,b.snapy=g<0||g>b.nc.page.maxh,b.speedx=f,b.speedy=e,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;c<0?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),a<0?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d?b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed):b.nc.triggerScrollEnd()},this.doMomentum=function(d){var e=u(),f=d?e+d:b.lasttime,g=b.nc.getScrollLeft(),h=b.nc.getScrollTop(),i=b.nc.page.maxh,j=b.nc.page.maxw;b.speedx=j>0?Math.min(60,b.speedx):0,b.speedy=i>0?Math.min(60,b.speedy):0;var a=f&&e-f<=60;(h<0||h>i||g<0||g>j)&&(a=!1);var l=!(!b.speedy||!a)&&b.speedy,m=!(!b.speedx||!a)&&b.speedx;if(l||m){var c=Math.max(16,b.steptime);if(c>50){var k=c/50;b.speedx*=k,b.speedy*=k,c=50}b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly;var o=b.lastscrollx,p=b.lastscrolly,n=function(){var a=u()-e>600?.04:.02;b.speedx&&(o=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=o,(o<0||o>j)&&(a=.1)),b.speedy&&(p=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=p,(p<0||p>i)&&(a=.1)),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){b.speedx&&(b.nc.getScrollLeft(),b.chkx=o,b.nc.setScrollLeft(o)),b.speedy&&(b.nc.getScrollTop(),b.chky=p,b.nc.setScrollTop(p)),b.timer||(b.nc.hideCursor(),b.doSnapy(o,p))}),b.demulxy<1?b.timer=setTimeout(n,c):(b.stop(),b.nc.hideCursor(),b.doSnapy(o,p))};n()}else b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},z=b.fn.scrollTop;b.cssHooks.pageYOffset={get:function(b,d,e){var a=c.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.getScrollTop():z.call(b)},set:function(b,d){var a=c.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.setScrollTop(parseInt(d)):z.call(b,d),this}},b.fn.scrollTop=function(b){if(void 0===b){var a=!!this[0]&&!!c.data(this[0],"__nicescroll");return a&&a.ishwscroll?a.getScrollTop():z.call(this)}return this.each(function(){var a=c.data(this,"__nicescroll")||!1;a&&a.ishwscroll?a.setScrollTop(parseInt(b)):z.call(c(this),b)})};var A=b.fn.scrollLeft;c.cssHooks.pageXOffset={get:function(b,d,e){var a=c.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.getScrollLeft():A.call(b)},set:function(b,d){var a=c.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.setScrollLeft(parseInt(d)):A.call(b,d),this}},b.fn.scrollLeft=function(b){if(void 0===b){var a=!!this[0]&&!!c.data(this[0],"__nicescroll");return a&&a.ishwscroll?a.getScrollLeft():A.call(this)}return this.each(function(){var a=c.data(this,"__nicescroll")||!1;a&&a.ishwscroll?a.setScrollLeft(parseInt(b)):A.call(c(this),b)})};var j=function(a){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){return c.each(e,a),e},this.push=function(a){e[e.length]=a,e.length++},this.eq=function(a){return e[a]},a)for(var b=0;b<a.length;b++){var d=c.data(a[b],"__nicescroll")||!1;d&&(this[this.length]=d,this.length++)}return this};!function(c,b,d){for(var a=0,e=b.length;a<e;a++)d(c,b[a])}(j.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),b.fn.getNiceScroll=function(a){return void 0===a?new j(this):this[a]&&c.data(this[a],"__nicescroll")||!1},(b.expr.pseudos||b.expr[":"]).nicescroll=function(a){return void 0!==c.data(a,"__nicescroll")},c.fn.niceScroll=function(a,d){void 0!==d||"object"!=typeof a||"jquery"in a||(d=a,a=!1);var b=new j;return this.each(function(){var f=c(this),e=c.extend({},d);if(a){var h=c(a);e.doc=h.length>1?c(a,f):h,e.win=f}!("doc"in e)||"win"in e||(e.win=f);var g=f.data("__nicescroll")||!1;g||(e.doc=e.doc||f,g=new x(e,f),f.data("__nicescroll",g)),b.push(g)}),1===b.length?b[0]:b},a.NiceScroll={getjQuery:function(){return b}},c.nicescroll||(c.nicescroll=new j,c.nicescroll.options=k)})
